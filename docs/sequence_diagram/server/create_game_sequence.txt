@startuml
LobbyHandler -> LobbyHandler : run()

loop while LobbyHandler->should_keep_running()
  LobbyHandler -> ParseLobbyAction : ParseLobbyAction(InterfaceLobbyAction &action, LobbyCommandType &command)
  ParseLobbyAction -> ParseLobbyAction : run()
  LobbyHandler -> CreateGame : action(this, InterfaceGamesMonitor &monitor)
  CreateGame -> InterfaceGamesMonitor : create_game(player_id_t player_id, LobbyHandler &handler, const std::string game_name)
  InterfaceGamesMonitor -> GameLoop : add_player(player_id_t player_id, LobbyHandler &&handler)
  InterfaceGamesMonitor --> LobbyHandler : send(SendHandshake handshake)
end

InterfaceGamesMonitor --> LobbyHandler : stop()
@enduml